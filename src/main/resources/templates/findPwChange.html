<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width" , initial-scale="1">
    <title>findPwChange</title>
    <script src="js/jquery-3.7.1.min.js"></script>
    <link rel="stylesheet" href="css/fragments.css">
    <link rel="stylesheet" href="css/sidebar.css">
    <link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.1/css/all.min.css'>
    <link rel="stylesheet" href="css/findIdPw.css">
    <script th:inline="javascript">
        $(function () {
            //메시지 출력
            let m = [[${msg}]];
            if (m != null) {
                alert(m);
            } //복사하여 index.html에도 넣기
        });
    </script>
</head>
<body class="loginbackground">
<header>
    <th:block th:insert="~{fragments::header(${session.member})}"/>
</header>
<section>
    <div class="content">
        <div class="login-form">
            <form th:action="@{findPwChangeProc}" method="post" class="login-form">
                <h2 class="login-header" style="color: white">PW CHANGE</h2>
                <input type="hidden" name="m_id" th:value="${m_id}">
                <input type="password" class="login-input" id="m_pwd" name="m_pwd" title="비밀번호" placeholder="비밀번호 변경">
                <br>
                <input type="password" class="login-input" id="m_pwdCheck" title="비밀번호 확인" placeholder="비밀번호 변경 확인">
                <br>
                <input type="submit" class="login-btn" value="Change">
            </form>
            <a th:href="@{findId}" style="text-decoration: none"><button class="join-btn">Find ID</button></a>
            <br>
            <a th:href="@{loginForm}" style="text-decoration: none"><button class="join-btn">Go to Login</button></a>
        </div>
    </div>
</section>
<footer>
    <th:block th:insert="~{fragments::footer}"/>
</footer>
</body>
<script>
    function pwCheck() {
        if ($("#m_pwd").val() === $("#m_pwdCheck").val()) {
            $("#m_pwd, #m_pwdCheck").css("color", "green");
        } else {
            $("#m_pwd, #m_pwdCheck").css("color", "red");
        }
    }

    $(document).ready(function () {
        // 비밀번호 입력 시 비교 및 색상 변경
        $("#m_pwd, #m_pwdCheck").keyup(function () {
            pwCheck();
        });
    });
</script>
</html>